<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*
        Представим ситуацию что вы работаете в кризисное время
        у вас есть желание купить путевку на отдых. Но работодатель
        задержал зарплату вам за 3 месяца. Ваша задача подойти к 
        работодателю и попросить его выплатить з/п что бы вы могли
        осуществить задуманное.

        1. Напишите функцию которая будет иллюстрировать ваши действия, то есть:
        1.1 Вы спросили у работодателя о том что бы он выдал вам з/п
        1.2 В случае если он дал вам положительный ответ, вы действуете далее по пункту 2
        1.3 В случае если он вам отказал, 
        1.3.1 вы либо пишите заявление об уходе
        1.3.2 либо возвращаетесь работать дальше
        2. Когда работодатель одобрил з/п вы идете выбирать себе турпоездку
        2.1 В случае если вы получаете з/п
        2.2 Берете поездку в Турцию либо в Париж

        Превратить callback в promise
        */

        let request = true;//как реагируем если начальник согласен
        let work = false; //пишем заявление об уходе
       
function salary()
{
    console.warn('Вы запросили зарплату...');
    let prom=new Promise((resolve,reject)=>{
        setTimeout(()=>
        {
            if(Math.random() > .5)
            {
                resolve();
            }
            else
            {
                reject();
            }
        },2000)
    });
    return prom;
}
        //покупает турпоездку
        function buyTour(){
            console.log('Вам пологается приз!');
            //выбираем куда поедем
            setTimeout(()=>
        {
            if(Math.random() > .5)
            {
                turkey();
            }
            else
            {
                baks();
            }
        },1000)
        }
        function turkey(){
            console.log('Едем в Турцию')
        }
        function baks(){
            console.log('Едем в Париж');
        }
        //пишем заявление об уходе либо терпим и работаем
        function act(){
            if(Math.random()>.5)
            {
                console.log('Написать заявление об уходе!')
            }else{
                console.log('Вернуться работать и ждать з/п!')
            }
        }

        salary().then(
    function()
    {   console.log('Вам повезло!');
        
    }).then(buyTour).catch(function(){
        console.error('Вам HE повезло!');
        act();
        final();
    })
        function final()
        {
            console.error('"-"');
        }
        
    </script>
</body>
</html>