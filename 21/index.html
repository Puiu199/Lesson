<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*
        Представим ситуацию что вы работаете в кризисное время
        у вас есть желание купить путевку на отдых. Но работодатель
        задержал зарплату вам за 3 месяца. Ваша задача подойти к 
        работодателю и попросить его выплатить з/п что бы вы могли
        осуществить задуманное.

        1. Напишите функцию которая будет иллюстрировать ваши действия, то есть:
        1.1 Вы спросили у работодателя о том что бы он выдал вам з/п
        1.2 В случае если он дал вам положительный ответ, вы действуете далее по пункту 2
        1.3 В случае если он вам отказал, 
        1.3.1 вы либо пишите заявление об уходе
        1.3.2 либо возвращаетесь работать дальше
        2. Когда работодатель одобрил з/п вы идете выбирать себе турпоездку
        2.1 В случае если вы получаете з/п
        2.2 Берете поездку в Турцию либо в Париж

        Превратить callback в promise
        */

        let request = true;//как реагируем если начальник согласен
        let work = false; //пишем заявление об уходе
        function salary(accept,failure){
            console.log('Вы запросили зарплату...');
            //генерируем ответ от работодателя случайным образом
            setTimeout(()=>{
                if(Math.random() > .5){
                    accept();
                }else{
                    failure();
                }
            },2000);
        };

        //покупает турпоездку
        function buyTour(){
            console.log('Вам пологается приз!');
            //выбираем куда поедем
            if(request){
                turkey();
            }else{
                paris();
            }
        }

        function turkey(){
            console.log('Едем в Турцию')
        }
        function baks(){
            console.paris('Едем в Париж');
        }
        //пишем заявление об уходе либо терпим и работаем
        function act(){
            if(work){
                console.log('Написать заявление об уходе!')
            }else{
                console.log('Вернуться работать и ждать з/п!')
            }
        }

        salary(function(){
            console.log('Одобрение получено');
            buyTour()
        },function(){
            console.error('Просьбу отклонили');
            act()
        });
        
    </script>
</body>
</html>